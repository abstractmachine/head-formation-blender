# Notes
Je me rend compte que ça ne va pas me faire beaucoup avancer d'avoir Blender faire le travail de modélisation du vêtement pour moi.

## Alternative
Les *tips* de [Blender Secrets](https://www.blendersecrets.org) sont toujours excellents. Par exemple, ce tutoriel, avec la même technique que [2024-11-30](./2024-11-30.md), est très bien :

[![](images/blender-secrets-cloth.jpg)](https://www.youtube.com/watch?v=5t2WQJMoQDM)

J'ai suivi ce tutoriel simple et les reglages me donnent preque parfaitement ce que je cherchait :

![](images/blender-secrets-cloth-simple.png)

Les résultats se trouvent dans ce fichier [blender-secrets-cloth-2024-12-08](../blender/tutoriels/cloth/blender-secrets-cloth-2024-12-08.blend).

Mais dans ce tutoriel, il suggère une autre méthode, qui me semble mieux pour me besoins. C'est une approche plus classique qui consiste à sélectionner un ensemble de vertices, puis de les écarter du corps :

[![](images/blender-secrets-modelling-clothes.jpg)](https://www.youtube.com/watch?v=ffS36ZG9LtI)

## Dress

Il y a aussi ces deux tutoriels de Blender Secrets autour de la création d'une robe, ce qui est plus proche de mes besoins.

[![](images/blender-secrets-high-poly-cloth.jpg)](https://www.youtube.com/watch?app=desktop&v=jOGtfkjYRus&pp=ygUPI2R5bmFtaWNjb3N0dW1l)

[![](images/blender-secrets-simple-dress.jpg)](https://www.youtube.com/watch?v=k4q0N5ZRazI)

## Cylindre
[Claudy Ianonne](https://www.hesge.ch/head/annuaire/claudy-iannone) a suggéré de tester un simple cylindre, d'ajouter des faces sur ce cylindre, puis et de voir comment Unity traite ce cylindre augmenté. Je vais aussi tester cette approche, en commençant même par un simple cylindre.

Dans Blender, j'ai fabriqué un cylindre. Dans la documentation [Cloth](https://docs.unity3d.com/Manual/class-Cloth.html) de Unity, on explique qu'il faut absolument un `Skinned Mesh Renderer` et pas juste un `Mesh Renderer`. Normal, puisqu'il faut pouvoir déformer le `Mesh` et il faut des poids (`Weights`) sur ce maillage :

![](images/cylinder-with-bones.png)

Pour que Unity puisse déformer ce maillage, il faut faire `Export` depuis Blender avec l'option `Armature` activé :

![](images/blender-export-armature-mesh.png)

Ce qui donne dans Unity un maillage déformable :

![](images/unity-skinned-mesh-renderer.png)

Pas sûr qu'il fallait ajouter l'armature côté Blender ; peut-être il aurait suffit de juste exporter avec l'option `Armature` activé.

## Unity Cloth Simulation
J'ai ajouté une capsule à l'intérieur de l'armature côté Unity, puis j'ai ajouté un `Cloth component` sur le `GameObject` qui contenait le `Skinned Mesh Renderer`. Il faut mettre ce `component` directement dans ce dernier, et pas dans le parent de cet objet. Ensuite j'ai placé une capsule à l'intérieur de l'os le plus haut de l'armature, puis j'ai dit au `Cloth` que je voulais que cette capsule sert de physique pour la simulation. Ça donne ceci :

![](images/unity-cloth-loop.gif)

C'est assez convaincant ce résultat. Avec un vêtement bien fait dans Blender, et avec une texture bien fait, ça risque d'être plutôt bien.

